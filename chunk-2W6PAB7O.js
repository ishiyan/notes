import{b as Ie}from"./chunk-P54KOG3W.js";import"./chunk-WIJPBQRI.js";import{A as Y,C as E,J as b,K as be,T as Se,V as ye,W as Ee,X as ke,Y as _e,a as ce,e as he,f as ge,h as fe,p as xe,q as ue,s as B,t as ve,y as O,z as U}from"./chunk-SNMWJJSU.js";import{g as me,h as de,i as pe}from"./chunk-FBJUKFYF.js";import{Ba as le,Ca as se,ba as j,ga as G,ia as $,ma as ee,oa as te,pa as ie,ra as ne,sa as ae,wa as re,xa as oe,za as A}from"./chunk-GGZZIAUL.js";import{Ab as I,Ca as q,Da as k,Gb as g,Ic as w,Lb as C,Nb as X,Ob as K,Pb as t,Qb as i,Rb as c,Sb as y,Ub as x,Vb as f,Yb as Q,Zb as Z,a as J,cb as V,gb as n,gc as e,hc as d,ic as m,lc as z,mc as D,nc as F,pa as u,qa as v,tb as _,tc as P}from"./chunk-PZT3DLUM.js";function Ve(s,h){if(s&1){let a=y();t(0,"mb-line-style-selector",3),x("selectionChange",function(r){u(a);let l=f();return v(l.updateStyle(r))}),i()}if(s&2){let a=f();g("initial",a.current.style)("label","Line")}}var we=(()=>{class s{constructor(){this.initial=k.required(),this.removed=q(),this.changed=q(),w(()=>{this.current=this.initial()})}updateStyle(a){this.current.style=a,this.changed.emit(this.current)}updateParams(a){this.current.params=a,this.changed.emit(this.current)}remove(){this.removed.emit(this.current)}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=_({type:s,selectors:[["app-ema-params"]],inputs:{initial:[1,"initial"]},outputs:{removed:"removed",changed:"changed"},decls:6,vars:2,consts:[["mat-icon-button","","color","warn",3,"click"],[3,"selectionChange","initial"],[3,"initial","label"],[3,"selectionChange","initial","label"]],template:function(o,r){o&1&&(t(0,"div")(1,"button",0),x("click",function(){return r.remove()}),t(2,"mat-icon"),e(3,"delete"),i()(),t(4,"mb-exponential-moving-average-params",1),x("selectionChange",function(p){return r.updateParams(p)}),i(),I(5,Ve,1,2,"mb-line-style-selector",2),i()),o&2&&(n(4),g("initial",r.current.params),n(),C(r.current.showStyle?5:-1))},dependencies:[A,se,_e,be],encapsulation:2,changeDetection:0})}}return s})();var ze=(s,h)=>h.id;function De(s,h){if(s&1){let a=y();t(0,"app-ema-params",2),x("changed",function(r){u(a);let l=f();return v(l.updated(r))})("removed",function(r){u(a);let l=f();return v(l.removed(r))}),i()}if(s&2){let a=h.$implicit;g("initial",a)}}var Fe=s=>"length"in s,Me=()=>{let s=new ke;return s.color="",s.width=1.5,s.dash="",s.interpolation="camullRom",s},Ae=(s,h,a,o,r)=>({id:s,params:{length:a,firstIsAverage:o,barComponent:r},style:Me(),showStyle:h}),He=(s,h,a,o)=>({id:s,params:{smoothingFactor:a,barComponent:o},style:Me(),showStyle:h});function R(s){return s===1e3?0:1e3}var qe=(()=>{class s{constructor(){this.initialLength=k(),this.initialSmoothingFactor=k(),this.colors=k(),this.changed=q(),this.emaArray=[],this.colorArray=["#ff0000"],this.startId=0,this.initialized=!1,w(()=>{let a=this.initialLength();if(a){this.startId=R(this.startId);let o=this.startId,r=[];for(let l=0;l<a.length.length;l++){let p=Ae(o+l,a.showStyle,a.length[l],a.firstIsAverage,a.barComponent);p.style.color=this.colorArray[l%this.colorArray.length],r.push(p)}this.emaArray=r,this.defaultBarComponent=a.barComponent}}),w(()=>{let a=this.initialSmoothingFactor();if(a){this.startId=R(this.startId);let o=this.startId,r=[];for(let l=0;l<a.smoothingFactor.length;l++){let p=He(o+l,a.showStyle,a.smoothingFactor[l],a.barComponent);p.style.color=this.colorArray[l%this.colorArray.length],r.push(p)}this.emaArray=r,this.defaultBarComponent=a.barComponent}}),w(()=>{let a=this.colors();if(a&&a.length>0){this.startId=R(this.startId);let o=this.startId,r=[];this.colorArray=a;for(let l=0;l<this.emaArray.length;l++){let p=J({},this.emaArray[l]);p.style.color=a[l%a.length],p.id=o+l,r.push(p)}this.emaArray=r}})}ngAfterViewInit(){this.initialized=!0,this.changed.emit(this.emaArray)}add(){let a=this.getShowStyle(),o=Ae(this.startId+this.emaArray.length,a,this.getLastLength()+5,!0,this.defaultBarComponent);a&&(o.style.color=this.colorArray[this.emaArray.length%this.colorArray.length]),this.emaArray.push(o),this.emaArray=[...this.emaArray],this.notify()}updated(a){this.getIndex(a)>=0&&this.notify()}removed(a){let o=this.getIndex(a);if(o>=0){this.emaArray.splice(o,1);let r=this.startId;for(let l=o;l<this.emaArray.length;++l)this.emaArray[l].id=r+l;this.emaArray=[...this.emaArray],this.notify()}}getLastLength(){let a=this.emaArray.length-1;if(a<0)return 0;if(Fe(this.emaArray[a].params))return this.emaArray[a].params.length;{let o=this.emaArray[a].params;return Math.ceil(2/o.smoothingFactor-1)}}getShowStyle(){return this.emaArray.length<=0?!1:this.emaArray[0].showStyle}getIndex(a){for(let o=0;o<this.emaArray.length;o++)if(this.emaArray[o]===a)return o;return-1}notify(){this.initialized&&this.changed.emit(this.emaArray)}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=_({type:s,selectors:[["app-ema-list"]],inputs:{initialLength:[1,"initialLength"],initialSmoothingFactor:[1,"initialSmoothingFactor"],colors:[1,"colors"]},outputs:{changed:"changed"},decls:6,vars:0,consts:[[3,"initial"],["mat-mini-fab","","color","primary",3,"click"],[3,"changed","removed","initial"]],template:function(o,r){o&1&&(X(0,De,1,1,"app-ema-params",0,ze),t(2,"div")(3,"button",1),x("click",function(){return r.add()}),t(4,"mat-icon"),e(5,"add"),i()()()),o&2&&K(r.emaArray)},dependencies:[A,le,we],encapsulation:2,changeDetection:0})}}return s})();var H=(s,h,a,o)=>[s,h,a,o];function Ne(s,h){if(s&1){let a=y();t(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e(4,"tune"),i()()(),t(5,"mb-swatches-select",16),x("selectionChange",function(r){u(a);let l=f();return v(l.indicatorPaletteChanged(r))}),i(),t(6,"app-ema-list",17),x("changed",function(r){u(a);let l=f();return v(l.indicatorsChanged(r))}),i()()}if(s&2){let a=f();n(5),g("selected",a.selectedIndex)("colors",a.palettes)("label","Palette"),n(),g("initialLength",a.initialIndicators)("colors",a.selectedPalette)}}function We(s,h){if(s&1&&(t(0,"span")(1,"a",18),e(2),i()()),s&2){let a=f();n(),Q("href",a.dataSelection.url,V),n(),d(a.dataSelection.urlName)}}function Ze(s,h){if(s&1){let a=y();t(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e(4,"tune"),i()()(),t(5,"mat-form-field",19)(6,"mat-label"),e(7,"Max period to display"),i(),t(8,"input",20),F("ngModelChange",function(r){u(a);let l=f();return D(l.maxPeriod,r)||(l.maxPeriod=r),v(r)}),i()(),t(9,"mat-form-field",19)(10,"mat-label"),e(11,"Height"),i(),t(12,"input",21),F("ngModelChange",function(r){u(a);let l=f();return D(l.freqsH,r)||(l.freqsH=r),v(r)}),i()(),t(13,"app-ema-list",22),x("changed",function(r){u(a);let l=f();return v(l.freqsChanged(r))}),i()()}if(s&2){let a=f();n(8),z("ngModel",a.maxPeriod),n(4),z("ngModel",a.freqsH),n(),g("initialLength",a.initialFreqs)}}var Be=!1,M=4096,Pe=10,Le=90,Te=1,N=32,Oe=s=>"length"in s,Ue=(s,h,a)=>{let o=[],r=U(a);for(let l of s)o.push({time:l.time,value:h.update(r(l))});return o},Ye=(s,h,a)=>{let o=U(a),r=o(s[0]);for(;!h.isPrimed;)h.update(r);let l=[];for(let p of s)l.push({time:p.time,value:h.update(o(p))});return l},Re=()=>({width:"100%",widthMin:360,navigationPane:{height:30,heightMin:30,heightMax:30,hasLine:!1,hasArea:!0,hasTimeAxis:!1,timeTicks:0},heightNavigationPane:30,timeAnnotationFormat:"%Y-%m-%d",axisLeft:!0,axisRight:!1,margin:{left:0,top:10,right:20,bottom:0},ohlcv:{name:"",data:[],candlesticks:!1},pricePane:{height:"30%",heightMin:300,heightMax:800,valueMarginPercentageFactor:.01,valueFormat:",.2f",bands:[],lineAreas:[],horizontals:[],arrows:[],lines:[]},indicatorPanes:[],crosshair:!1,volumeInPricePane:!1,menuVisible:!0,downloadSvgVisible:!0}),Ct=(()=>{class s{constructor(){this.indicators=[],this.initialized=!1,this.selectedIndex=0,this.initialIndicators={length:[5,10,20],firstIsAverage:!1,barComponent:O.Median,showStyle:!0},this.initialFreqs={length:[5,10,20],firstIsAverage:!1,showStyle:!1},this.palettes=B(this.initialIndicators.length.length),this.selectedPalette=this.palettes[this.selectedIndex],this.smaNote=de,this.emaNote=me,this.froaiNote=pe,this.freqs=[],this.freqsMaxPeriod=40,this.freqsHeight=300,this.unlocked=!0,this.dataStepUp=Y(Pe,N,Le,N*3,Te),this.dataStepDn=Y(Le,N,Pe,N*3,Te),this.ema2=E.calculate(M,new b({length:2,firstIsAverage:!1}),4),this.ema5=E.calculate(M,new b({length:5,firstIsAverage:!1}),10),this.ema10=E.calculate(M,new b({length:10,firstIsAverage:!1}),20),this.ema20=E.calculate(M,new b({length:20,firstIsAverage:!1}),40)}get maxPeriod(){return this.freqsMaxPeriod}set maxPeriod(a){(!a||a<2)&&(a=2),this.freqsMaxPeriod=a,this.freqs.length>0&&(this.freqs=[...this.freqs])}get freqsH(){return this.freqsHeight}set freqsH(a){this.freqsHeight=a,this.freqs.length>0&&(this.freqs=[...this.freqs])}get unLocked(){return this.unlocked}set unLocked(a){this.unlocked=a,this.render()}ngAfterViewInit(){this.initialized=!0,this.unlocked=Be,this.render()}indicatorPaletteChanged(a){this.selectedIndex=this.palettes.indexOf(a),this.selectedPalette=a}indicatorsChanged(a){let o=a.length>2?a.length:2;o!==this.selectedPalette.length&&(this.palettes=B(o),this.selectedIndex>=o&&(this.selectedIndex=0),this.selectedPalette=this.palettes[this.selectedIndex]),this.indicators=a,this.render()}freqsChanged(a){let o=[];for(let r of a)if(Oe(r.params)){let l=r.params,p=E.calculate(M,new b({length:l.length,firstIsAverage:l.firstIsAverage}),l.length*2);o.push(p)}else{let l=r.params,p=Math.ceil(2/l.smoothingFactor-1),L=E.calculate(M,new b({smoothingFactor:l.smoothingFactor}),p*2);o.push(L)}this.freqs=o}dataSelectionChanged(a){this.dataSelection=a,this.render()}render(){this.initialized&&(this.configuration=this.prepareConfig(this.dataSelection.mnemonic,this.dataSelection.data,!1),this.configurationStepUp=this.prepareConfig("",this.dataStepUp,!0),this.configurationStepDn=this.prepareConfig("",this.dataStepDn,!0))}prepareConfig(a,o,r){let l=Re();l.menuVisible=this.unlocked,l.ohlcv.name=a,l.ohlcv.data=o;for(let p of this.indicators){let L=p.params.barComponent?p.params.barComponent:O.Close,W=new b(p.params),S=new ye;S.name=W.getMnemonic(),S.data=r?Ye(o,W,L):Ue(o,W,L);let T=p.style;S.color=T.color,S.width=T.width,S.dash=T.dash,S.interpolation=T.interpolation,l.pricePane.lines.push(S)}return l}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=_({type:s,selectors:[["app-ind-ema"]],decls:317,vars:166,consts:[[1,"slide-toggle",3,"ngModelChange","color","ngModel"],[1,"icon"],["label","",3,"selectionChange"],[1,"figwide"],[1,"ohlcv-chart-study",3,"configuration"],["expanded","false",2,"margin-bottom","1em"],[2,"width","100%"],[3,"href"],[3,"subfig","width","height","ymode","xmode","maxPeriod","data","settingsPanelVisible"],[3,"subfig","width","height","ymode","xmode","maxPeriod","minDeg","maxDeg","data","settingsPanelVisible"],[3,"subfig","width","height","ymode","xmode","data","settingsPanelVisible"],[3,"subfig","width","height","ymode","xmode","minDeg","maxDeg","data","settingsPanelVisible"],[1,"counter-skip"],["href","https://books.google.com/books?id=JokQD5nK4LMC","target","_blank"],["href","https://books.google.com/books?id=18fICgAAQBAJ","target","_blank"],["href","https://books.google.com/books?id=EaMuAAAAQBAJ","target","_blank"],[2,"vertical-align","bottom",3,"selectionChange","selected","colors","label"],[3,"changed","initialLength","colors"],["target","_blank",3,"href"],["appearance","fill"],["matInput","","type","number","min","8","max","1024","step","1",3,"ngModelChange","ngModel"],["matInput","","type","number","min","100","max","1024","step","1",3,"ngModelChange","ngModel"],[3,"changed","initialLength"]],template:function(o,r){o&1&&(t(0,"h1"),e(1),i(),t(2,"mat-slide-toggle",0),F("ngModelChange",function(p){return D(r.unLocked,p)||(r.unLocked=p),p}),t(3,"mat-icon",1),e(4,"tune"),i()(),t(5,"app-bar-series-select",2),x("selectionChange",function(p){return r.dataSelectionChanged(p)}),i(),t(6,"figure",3),c(7,"mb-ohlcv-chart",4),I(8,Ne,7,5,"mat-expansion-panel",5),t(9,"figcaption"),e(10),I(11,We,3,2,"span"),i()(),c(12,"p"),t(13,"div",6),e(14," An Exponential Moving Average (EMA), or Exponentially Weighted Moving Average (EWMA) in academic parlance, is defined recursively as "),t(15,"mb-kd"),e(16),i(),e(17," The parameter "),t(18,"mb-ki"),e(19),i(),e(20,", "),t(21,"mb-ki"),e(22),i(),e(23,", determines the aggressiveness of the EMA. As "),t(24,"mb-ki"),e(25),i(),e(26,", the last sample makes no impact, making the EMA line appear smoother. As "),t(27,"mb-ki"),e(28),i(),e(29,", only the last sample determines the EMA value, so the input samples just pass through the filter. "),c(30,"p"),e(31," In contrast with the "),t(32,"a",7),e(33,"Simple Moving Average"),i(),e(34,", the EMA uses all historical samples, giving them the smaller and smaller weighting factors. This becomes obvious if we re-write equation (1) as "),t(35,"mb-kd"),e(36),i(),t(37,"mb-kd"),e(38),i(),e(39," Sometimes, instead of "),t(40,"mb-ki"),e(41),i(),e(42,", it is convenient to use and equivalent length "),t(43,"mb-ki"),e(44),i(),e(45," of the SMA of the same smoothness, which is related to "),t(46,"mb-ki"),e(47),i(),e(48," as "),t(49,"mb-kd"),e(50),i(),e(51," As "),t(52,"mb-ki"),e(53),i(),e(54,", "),t(55,"mb-ki"),e(56),i(),e(57," becomes infinite, as "),t(58,"mb-ki"),e(59),i(),e(60,", "),t(61,"mb-ki"),e(62),i(),e(63," becomes one. The equation (2) can be written in terms of "),t(64,"mb-ki"),e(65),i(),e(66," as "),t(67,"mb-kd"),e(68),i(),e(69," From the digital signal processing (DSP) point of view, the EMA is an infinite impulse response (IIR) filter wich applies exponentially decresing weighting factors to the input samples. "),c(70,"p"),i(),t(71,"h2"),e(72,"Step response"),i(),t(73,"div",6),e(74,` Two figures below demonstrate the response to the step-up and step-down data. The transition is clearly not linear. The step-up response doesn't overshoot and the step-down response doesn't undershoot the data.
`),i(),t(75,"figure",3),c(76,"mb-ohlcv-chart",4),t(77,"figcaption"),e(78,"Step-up response."),i()(),t(79,"figure",3),c(80,"mb-ohlcv-chart",4),t(81,"figcaption"),e(82,"Step-down response."),i()(),c(83,"p"),t(84,"div",6),e(85," The step response of the EMA can be derived analytically. It is the output of the EMA when a Heaviside step function (Oppenheim et al., 2009, p.13) "),t(86,"mb-kd"),e(87),i(),e(88," is applied as an input. Using equation (2), "),t(89,"mb-kd"),e(90),i(),t(91,"mb-kd"),e(92),i(),e(93," To simplify the expression above, we can recall a sum of geometric series "),t(94,"mb-kd"),e(95),i(),e(96," Multiplying both sides by "),t(97,"mb-ki"),e(98),i(),e(99," and simplifying "),t(100,"mb-kd"),e(101),i(),t(102,"mb-kd"),e(103),i(),t(104,"mb-kd"),e(105),i(),e(106," gives a well-known identity for a sum of geometric series (Jeffrey and Dai, 2008, 1.2.2.2): "),t(107,"mb-kd"),e(108),i(),e(109," Substituting the sum of geometric series into equaton (5) gives "),t(110,"mb-kd"),e(111),i(),t(112,"mb-kd"),e(113),i(),t(114,"mb-kd"),e(115),i(),c(116,"p"),e(117," The unit impulse response "),t(118,"mb-ki"),e(119),i(),e(120," of the EMA is the output of the EMA when a Kronecker delta function "),t(121,"mb-kd"),e(122),i(),e(123," is applied to the input. Using the equation (2), we get "),t(124,"mb-kd"),e(125),i(),t(126,"mb-kd"),e(127),i(),t(128,"mb-kd"),e(129),i(),c(130,"p"),i(),t(131,"h2"),e(132,"Frequency response"),i(),t(133,"div",6),e(134," The figures below show an amplitude and a phase lag of the unit sample response of the EMA as a function of a period of various signal frequencies. "),c(135,"p"),e(136," A period is a duration of a cycle in samples. The smallest possible period of a cycle is "),t(137,"mb-ki"),e(138),i(),e(139," samples. To understand this, imagine a cycle of a sinusoid which starts at zero, goes up and peaks at "),t(140,"mb-ki"),e(141),i(),e(142,", continues down and bottoms at "),t(143,"mb-ki"),e(144),i(),e(145,", and then returns back to zero. We need at least two samples (peak and through) to represent a cycle. See more details in the "),t(146,"a",7),e(147),i(),e(148,". "),c(149,"p"),i(),t(150,"figure",3),c(151,"mb-frequency-response-chart",8)(152,"mb-frequency-response-chart",9),I(153,Ze,14,3,"mat-expansion-panel",5),t(154,"figcaption"),e(155,"An amplitude (a) and a phase lag (b) as a function of a period of a cycle."),i()(),c(156,"p"),t(157,"div",6),e(158," The same charts can be represented as a function of a cycle's frequency. A period ("),t(159,"mb-ki"),e(160),i(),e(161,") is an inverse of the cycle's frequency ("),t(162,"mb-ki"),e(163),i(),e(164,"): "),t(165,"mb-ki"),e(166),i(),e(167,". The smallest period "),t(168,"mb-ki"),e(169),i(),e(170," corresponds to the Nyquist frequency "),t(171,"mb-ki"),e(172),i(),e(173,"which is the highest frequency possible in a signal. Below we use the normalized frequency which has the value of "),t(174,"mb-ki"),e(175),i(),e(176," at the Nyquist frequency. That is, "),t(177,"mb-ki"),e(178),i(),e(179," corresponds to the infinite "),t(180,"mb-ki"),e(181),i(),e(182,", "),t(183,"mb-ki"),e(184),i(),e(185," corresponds to the "),t(186,"mb-ki"),e(187),i(),e(188,". "),c(189,"p"),i(),t(190,"figure",3),c(191,"mb-frequency-response-chart",8)(192,"mb-frequency-response-chart",10),t(193,"figcaption"),e(194,"An amplitude as a function of a period of a cycle (a) and as a function of a normalized frequency of a cycle (b) for various EMA lengths."),i()(),t(195,"figure",3),c(196,"mb-frequency-response-chart",9)(197,"mb-frequency-response-chart",11),t(198,"figcaption"),e(199,"A phase as a function of a period of a wave (a) and as a function of a normalized frequency of a wave for various EMA lengths."),i()(),c(200,"p"),t(201,"div",6),e(202," The frequency response of the EMA can be derived analytically from the transfer function of the EMA. The transfer function is defined using the unilateral Z-transform (Oppenheim et al., 2009, p.99) "),t(203,"mb-kd"),e(204),i(),e(205," where "),t(206,"mb-ki"),e(207),i(),e(208," is a complex variable. If "),t(209,"mb-kd"),e(210),i(),e(211," are Z-transforms of the input "),t(212,"mb-ki"),e(213),i(),e(214," and the output "),t(215,"mb-ki"),e(216),i(),e(217," respectively, then the transfer function (sometimes called system function) is defined as (Oppenheim et al., 2009, p.131) "),t(218,"mb-kd"),e(219),i(),c(220,"p"),e(221," Applying Z-transorm to the equation (1) and using the linearity and the translation (time shift) properties of the Z-transform translation (Oppenheim et al., 2009, pp.124-125) "),t(222,"mb-kd"),e(223),i(),t(224,"mb-kd"),e(225),i(),e(226," we get: "),t(227,"mb-kd"),e(228),i(),t(229,"mb-kd"),e(230),i(),t(231,"mb-kd"),e(232),i(),t(233,"mb-kd"),e(234),i(),t(235,"mb-kd"),e(236),i(),t(237,"mb-kd"),e(238),i(),c(239,"p"),e(240," The frequency response function is the transfer function where z is located on the unit circle, "),t(241,"mb-ki"),e(242),i(),e(243,". Here "),t(244,"mb-ki"),e(245),i(),e(246," is an angular frequency (in radians per sample), "),t(247,"mb-ki"),e(248),i(),e(249," is a frequency, and "),t(250,"mb-ki"),e(251),i(),e(252," is a period of a cycle in samples: "),t(253,"mb-kd"),e(254),i(),e(255," Then, the equation (8) becomes "),t(256,"mb-kd"),e(257),i(),e(258," Let's calculate the squared modulus of the "),t(259,"mb-ki"),e(260),i(),e(261," using the Euler's formula for writing the exponential as sines and cosines: "),t(262,"mb-ki"),e(263),i(),e(264,". "),t(265,"mb-kd"),e(266),i(),t(267,"mb-kd"),e(268),i(),t(269,"mb-kd"),e(270),i(),t(271,"mb-kd"),e(272),i(),t(273,"mb-kd"),e(274),i(),e(275," and "),t(276,"mb-kd"),e(277),i(),e(278," (Mak, 2006, p.15) mentions that the phase of the "),t(279,"mb-ki"),e(280),i(),e(281," can be derived as "),t(282,"mb-kd"),e(283),i(),e(284," We can also express the phase lag "),t(285,"mb-ki"),e(286),i(),e(287," in the equation above in terms of a lag in a number of bars (data points) "),t(288,"mb-kd"),e(289),i(),e(290," I was not able to derive both equations (12) and (13), and (Mak, 2006, p.15) do not have the simplified formula for the equation (13). "),c(291,"p"),i(),c(292,"div",6)(293,"hr"),t(294,"h2",12),e(295,"References"),i(),t(296,"div"),e(297," Jeffrey, A., & Dai, H. H. (2008). "),t(298,"em"),e(299,"Handbook of mathematical formulas and integrals"),i(),e(300,". (4th ed., p. 592). San Diego, CA: Elsevier/Academic Press. "),t(301,"a",13),e(302,"google books"),i()(),t(303,"div"),e(304,"Mak, D. K. (2006). "),t(305,"em"),e(306,"Mathematical Techniques in Financial Market Trading"),i(),e(307," (p. 320). doi:10.1142/6055 "),t(308,"a",14),e(309,"google books"),i()(),t(310,"div"),e(311,"Oppenheim, A. V., Schafer, R. W., Yoder, M. A., & Padgett, W. T. (2009). "),t(312,"em"),e(313,"Discrete-time signal processing"),i(),e(314,". (3rd ed., p. 1120). Upper Saddle River, NJ: Pearson. "),t(315,"a",15),e(316,"google books"),i()()),o&2&&(n(),d(r.emaNote.title),n(),g("color","primary"),z("ngModel",r.unLocked),n(5),g("configuration",r.configuration),n(),C(r.unlocked?8:-1),n(2),m("",r.dataSelection.description,". "),n(),C(r.dataSelection.url?11:-1),n(5),m(" ","\\tag*{(1)}ema_{k}=\\alpha x_{k} + (1-\\alpha)ema_{k-1}"," "),n(3),d("\\alpha"),n(3),d("0\\lt\\alpha\\lt 1"),n(3),d("\\alpha \\rightarrow 0"),n(3),d("\\alpha \\rightarrow 1"),n(4),Z("href","/",r.smaNote.route,"",V),n(4),m(" ","\\tag*{}ema_{k}=\\sum\\limits_{m=0}^{k}{\\alpha(1-\\alpha)^{m}x_{k-m}}"," "),n(2),m(" ","\\tag*{(2)}=\\alpha\\sum\\limits_{m=0}^{k}{(1-\\alpha)^{m}x_{k-m}}"," "),n(3),d("\\alpha"),n(3),d("L"),n(3),d("\\alpha"),n(3),m(" ","\\tag*{(3)} L=\\frac{2}{\\alpha}-1, \\qquad \\alpha=\\frac{2}{L+1}"," "),n(3),d("\\alpha \\rightarrow 0"),n(3),d("L"),n(3),d("\\alpha \\rightarrow 1"),n(3),d("L"),n(3),d("L"),n(3),m(" ","\\tag*{(4)}ema_{k}=\\frac{2}{L+1}\\sum\\limits_{m=0}^{k}{ \\left(\\frac{L-1}{L+1}\\right)^{m}x_{k-m}}"," "),n(8),g("configuration",r.configurationStepUp),n(4),g("configuration",r.configurationStepDn),n(7),m(" ","\\tag*{}H_{k} = \\begin{cases} 0, & k \\lt 0 \\\\ 1, & k \\ge 0 \\end{cases}"," "),n(3),m(" ","\\tag*{}ema_{k}^{step}=\\alpha\\sum\\limits_{m=0}^{k-1}{(1-\\alpha)^{m}H_{k-m}}"," "),n(2),m(" ","\\tag*{(5)}=\\alpha\\sum\\limits_{m=0}^{k-1}{(1-\\alpha)^{m}}"," "),n(3),m(" ","\\tag*{}\\sum_{m=0}^{k-1}x^m = 1 + x + x^2 + \\ldots + x^{k-1}"," "),n(3),d("1-x"),n(3),m(" ","\\tag*{}(1-x)\\sum_{m=0}^{k-1}x^m = (1-x)(1 + x + x^2 + \\ldots + x^{k-1})"," "),n(2),m(" ","\\tag*{}= 1 + x + x^2 + \\ldots + x^{k-1} - x - x^2 - \\ldots - x^{k-1} - x^k"," "),n(2),m(" ","\\tag*{}= 1 - x^k"," "),n(3),m(" ","\\tag*{}\\sum_{m=0}^{k-1}x^m = \\begin{cases} (1-x^k)/(1-x), & x \\neq 1 \\\\ k, & x = 1 \\end{cases}"," "),n(3),m(" ","\\tag*{}ema_{k}^{step}=\\alpha\\sum\\limits_{m=0}^{k-1}{(1-\\alpha)^{m}}"," "),n(2),m(" ","\\tag*{}=\\alpha\\frac{1-(1-\\alpha)^k}{1-(1-\\alpha)}"," "),n(2),m(" ","\\tag*{(6)}=1-(1-\\alpha)^{k}"," "),n(4),d("h_{k}"),n(3),m(" ","\\tag*{}\\delta_{k} = \\begin{cases} 1, & k=0 \\\\ 0, & k \\neq 0 \\end{cases}"," "),n(3),m(" ","\\tag*{}h_{k}=\\alpha\\sum\\limits_{m=0}^{\\infty}{(1-\\alpha)^{m}x_{k-m}}"," "),n(2),m(" ","\\tag*{}=\\alpha\\sum\\limits_{m=0}^{\\infty}{(1-\\alpha)^{m}\\delta_{k-m}}"," "),n(2),m(" ","\\tag*{(7)}=\\alpha(1-\\alpha)^{k}"," "),n(9),d("2"),n(3),d("1"),n(3),d("-1"),n(2),Z("href","/",r.froaiNote.route,"",V),n(),d(r.froaiNote.title),n(4),g("subfig","(a)")("width","100%")("height",r.freqsH)("ymode","amplitudePct")("xmode","period")("maxPeriod",r.maxPeriod)("data",r.freqs)("settingsPanelVisible",r.unlocked),n(),g("subfig","(b)")("width","100%")("height",r.freqsH)("ymode","phaseDegUnwrapped")("xmode","period")("maxPeriod",r.maxPeriod)("minDeg",-180)("maxDeg",180)("data",r.freqs)("settingsPanelVisible",r.unlocked),n(),C(r.unlocked?153:-1),n(7),d("\\tau"),n(3),d("\\nu"),n(3),d("\\tau = \\frac{1}{\\nu}"),n(3),d("\\tau = 2"),n(3),d("\\nu = \\frac{1}{\\tau} = \\frac{1}{2}"),n(3),d("1"),n(3),d("0"),n(3),d("\\tau"),n(3),d("1"),n(3),d("\\tau = 2"),n(4),g("subfig","(a)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","period")("maxPeriod",40)("data",P(146,H,r.ema2,r.ema5,r.ema10,r.ema20))("settingsPanelVisible",r.unlocked),n(),g("subfig","(b)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","frequency")("data",P(151,H,r.ema2,r.ema5,r.ema10,r.ema20))("settingsPanelVisible",r.unlocked),n(4),g("subfig","(a)")("width","100%")("height",200)("ymode","phaseDeg")("xmode","period")("maxPeriod",40)("minDeg",-70)("maxDeg",20)("data",P(156,H,r.ema2,r.ema5,r.ema10,r.ema20))("settingsPanelVisible",r.unlocked),n(),g("subfig","(b)")("width","100%")("height",200)("ymode","phaseDeg")("xmode","frequency")("minDeg",-70)("maxDeg",20)("data",P(161,H,r.ema2,r.ema5,r.ema10,r.ema20))("settingsPanelVisible",r.unlocked),n(7),m(" ","\\tag*{}Z\\{x[n]\\}\\Leftrightarrow\\sum\\limits_{n=0}^{\\infty}{x[n]z^{-n}}"," "),n(3),d("z"),n(3),m(" ","\\tag*{}X(z)=Z\\{x[n]\\}, \\qquad Y(z)=Z\\{y[n]\\}"," "),n(3),d("x[n]"),n(3),d("y[n]"),n(3),m(" ","\\tag*{}H(z)=\\frac{Y(z)}{X(z)}"," "),n(4),m(" ","\\tag*{}Z\\{y(n - m)\\}\\Leftrightarrow z^{-m}Y(z)"," "),n(2),m(" ","\\tag*{}Z\\{ax[n]+by[n]\\}\\Leftrightarrow aX(z)+bY(z)"," "),n(3),m(" ","\\tag*{}Z\\{y[n]\\}=Z\\{\\alpha x[n]+(1-\\alpha)y[n-1]\\}"," "),n(2),m(" ","\\tag*{}=\\alpha Z\\{x[n]\\}+(1-\\alpha)Z\\{y[n-1]\\}"," "),n(2),m(" ","\\tag*{}=\\alpha Z\\{x[n]\\}+(1-\\alpha)z^{-1}Z\\{y[n]\\}"," "),n(2),m(" ","\\tag*{}Y(z)=\\alpha X(z)+(1-\\alpha)z^{-1}Y(z)"," "),n(2),m(" ","\\tag*{}Y(z)(1-(1-\\alpha)z^{-1})=\\alpha X(z)"," "),n(2),m(" ","\\tag*{(8)}H(z)=\\frac{Y(z)}{X(z)}=\\frac{\\alpha}{1-(1-\\alpha)z^{-1}}"," "),n(4),d("z=exp(-i\\omega)"),n(3),d("\\omega"),n(3),d("\\nu"),n(3),d("\\tau"),n(3),m(" ","\\tag*{}\\omega = 2\\pi\\nu = \\frac{2\\pi}{\\tau}"," "),n(3),m(" ","\\tag*{(9)}H(\\omega)=\\frac{\\alpha}{1-(1-\\alpha)exp(-i\\omega)}"," "),n(3),d("H(\\omega)"),n(3),d("exp(ix)=\\cos x+i\\sin x"),n(3),m(" ","\\tag*{}\\left|H(\\omega)\\right|^{2}=\\frac{\\alpha^{2}}{\\left|1-(1-\\alpha)exp(-i\\omega)\\right|^{2}}"," "),n(2),m(" ","\\tag*{}=\\frac{\\alpha^{2}}{\\left|1-(1-\\alpha)(\\cos(-\\omega)+i\\sin(-\\omega))\\right|^{2}}"," "),n(2),m(" ","\\tag*{}=\\frac{\\alpha^{2}}{(1-(1-\\alpha)\\cos(\\omega))^{2}+((1-\\alpha)\\sin(\\omega))^{2}}"," "),n(2),m(" ","\\tag*{}=\\frac{\\alpha^{2}}{1-2(1-\\alpha)\\cos(\\omega)+(1-\\alpha)^{2}\\cos^{2}(\\omega)+(1-\\alpha)^{2}\\sin^{2}(\\omega)}"," "),n(2),m(" ","\\tag*{(10)}=\\frac{\\alpha^{2}}{1-2(1-\\alpha)\\cos(\\omega)+(1-\\alpha)^{2}}"," "),n(3),m(" ","\\tag*{(11)}\\left|H(\\omega)\\right|=\\frac{\\alpha}{\\sqrt{1-2(1-\\alpha)\\cos(\\omega)+(1-\\alpha)^{2}}}"," "),n(3),d("H(\\omega)"),n(3),m(" ","\\tag*{(12)}\\phi(\\omega)=\\tan^{-1}\\left( \\frac{-(1-\\alpha)\\sin\\omega}{1-(1-\\alpha)\\cos\\omega} \\right)"," "),n(3),d("\\phi(\\omega)"),n(3),m(" ","\\tag*{(13)}bar\\ lag=\\frac{\\phi(\\omega)}{\\omega}"," "))},dependencies:[re,$,ie,ee,ae,ne,te,G,j,oe,A,ce,he,ge,fe,Ie,Ee,ve,ue,xe,Se,qe],styles:[".ohlcv-chart-study[_ngcontent-%COMP%]{margin:0;padding:0}.button[_ngcontent-%COMP%]{margin-right:8px}.slide-toggle[_ngcontent-%COMP%]{float:right;margin:0 8px 0 0}.icon[_ngcontent-%COMP%]{vertical-align:bottom}"],changeDetection:0})}}return s})();export{Ct as EmaComponent};
