import{b as _e}from"./chunk-P54KOG3W.js";import"./chunk-WIJPBQRI.js";import{A as O,C as v,D as b,E as xe,T as Se,V as be,W as ve,X as ye,Y as ke,a as de,e as ce,f as pe,h as he,p as ge,q as fe,s as W,t as ue,y as B,z as U}from"./chunk-SNMWJJSU.js";import{h as se,i as me}from"./chunk-FBJUKFYF.js";import{Ba as oe,Ca as le,ba as G,ga as X,ia as Z,ma as $,oa as ee,pa as te,ra as ie,sa as ne,wa as ae,xa as re,za as q}from"./chunk-GGZZIAUL.js";import{Ab as C,Ca as M,Da as A,Gb as h,Ic as P,Lb as L,Nb as K,Ob as Q,Pb as t,Qb as i,Rb as c,Sb as E,Ub as u,Vb as f,Yb as Y,Zb as j,a as J,cb as N,gb as n,gc as e,hc as m,ic as d,lc as V,mc as D,nc as F,pa as x,qa as S,sc as y,tb as I}from"./chunk-PZT3DLUM.js";function Pe(s,g){if(s&1){let r=E();t(0,"mb-line-style-selector",3),u("selectionChange",function(a){x(r);let l=f();return S(l.updateStyle(a))}),i()}if(s&2){let r=f();h("initial",r.current.style)("label","Line")}}var Ee=(()=>{class s{constructor(){this.initial=A.required(),this.removed=M(),this.changed=M(),P(()=>{this.current=this.initial()})}updateStyle(r){this.current.style=r,this.changed.emit(this.current)}updateParams(r){this.current.params=r,this.changed.emit(this.current)}remove(){this.removed.emit(this.current)}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-sma-params"]],inputs:{initial:[1,"initial"]},outputs:{removed:"removed",changed:"changed"},decls:6,vars:2,consts:[["mat-icon-button","","color","warn",3,"click"],[3,"selectionChange","initial"],[3,"initial","label"],[3,"selectionChange","initial","label"]],template:function(o,a){o&1&&(t(0,"div")(1,"button",0),u("click",function(){return a.remove()}),t(2,"mat-icon"),e(3,"delete"),i()(),t(4,"mb-simple-moving-average-params",1),u("selectionChange",function(p){return a.updateParams(p)}),i(),C(5,Pe,1,2,"mb-line-style-selector",2),i()),o&2&&(n(4),h("initial",a.current.params),n(),L(a.current.showStyle?5:-1))},dependencies:[q,le,ke,xe],encapsulation:2,changeDetection:0})}}return s})();var Te=(s,g)=>g.id;function Ve(s,g){if(s&1){let r=E();t(0,"app-sma-params",2),u("changed",function(a){x(r);let l=f();return S(l.updated(a))})("removed",function(a){x(r);let l=f();return S(l.removed(a))}),i()}if(s&2){let r=g.$implicit;h("initial",r)}}var De=()=>{let s=new ye;return s.color="",s.width=1.5,s.dash="",s.interpolation="camullRom",s},Ie=(s,g,r,o)=>({id:s,params:{length:r,barComponent:o},style:De(),showStyle:g});function Ce(s){return s===1e3?0:1e3}var Le=(()=>{class s{constructor(){this.initial=A(),this.colors=A(),this.changed=M(),this.smaArray=[],this.colorArray=["#ff0000"],this.startId=0,this.initialized=!1,P(()=>{let r=this.initial();if(r){this.startId=Ce(this.startId);let o=this.startId,a=[];for(let l=0;l<r.length.length;l++){let p=Ie(o+l,r.showStyle,r.length[l],r.barComponent);p.style.color=this.colorArray[l%this.colorArray.length],a.push(p)}this.smaArray=a,this.defaultBarComponent=r.barComponent}}),P(()=>{let r=this.colors();if(r&&r.length>0){this.startId=Ce(this.startId);let o=this.startId,a=[];this.colorArray=r;for(let l=0;l<this.smaArray.length;l++){let p=J({},this.smaArray[l]);p.style.color=r[l%r.length],p.id=o+l,a.push(p)}this.smaArray=a}})}ngAfterViewInit(){this.initialized=!0,this.changed.emit(this.smaArray)}add(){let r=this.getShowStyle(),o=Ie(this.startId+this.smaArray.length,r,this.getLastLength()+5,this.defaultBarComponent);r&&(o.style.color=this.colorArray[this.smaArray.length%this.colorArray.length]),this.smaArray.push(o),this.smaArray=[...this.smaArray],this.notify()}updated(r){this.getIndex(r)>=0&&this.notify()}removed(r){let o=this.getIndex(r);if(o>=0){this.smaArray.splice(o,1);let a=this.startId;for(let l=o;l<this.smaArray.length;++l)this.smaArray[l].id=a+l;this.smaArray=[...this.smaArray],this.notify()}}getLastLength(){let r=this.smaArray.length-1;return r<0?0:this.smaArray[r].params.length}getShowStyle(){return this.smaArray.length<=0?!1:this.smaArray[0].showStyle}getIndex(r){for(let o=0;o<this.smaArray.length;o++)if(this.smaArray[o]===r)return o;return-1}notify(){this.initialized&&this.changed.emit(this.smaArray)}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-sma-list"]],inputs:{initial:[1,"initial"],colors:[1,"colors"]},outputs:{changed:"changed"},decls:6,vars:0,consts:[[3,"initial"],["mat-mini-fab","","color","primary",3,"click"],[3,"changed","removed","initial"]],template:function(o,a){o&1&&(K(0,Ve,1,1,"app-sma-params",0,Te),t(2,"div")(3,"button",1),u("click",function(){return a.add()}),t(4,"mat-icon"),e(5,"add"),i()()()),o&2&&Q(a.smaArray)},dependencies:[q,oe,Ee],encapsulation:2,changeDetection:0})}}return s})();var _=(s,g,r)=>[s,g,r];function Fe(s,g){if(s&1){let r=E();t(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e(4,"tune"),i()()(),t(5,"mb-swatches-select",14),u("selectionChange",function(a){x(r);let l=f();return S(l.indicatorPaletteChanged(a))}),i(),t(6,"app-sma-list",15),u("changed",function(a){x(r);let l=f();return S(l.indicatorsChanged(a))}),i()()}if(s&2){let r=f();n(5),h("selected",r.selectedIndex)("colors",r.palettes)("label","Palette"),n(),h("initial",r.initialIndicators)("colors",r.selectedPalette)}}function He(s,g){if(s&1&&(t(0,"span")(1,"a",16),e(2),i()()),s&2){let r=f();n(),Y("href",r.dataSelection.url,N),n(),m(r.dataSelection.urlName)}}function ze(s,g){if(s&1){let r=E();t(0,"mat-expansion-panel",5)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),e(4,"tune"),i()()(),t(5,"mat-form-field",17)(6,"mat-label"),e(7,"Max period to display"),i(),t(8,"input",18),F("ngModelChange",function(a){x(r);let l=f();return D(l.maxPeriod,a)||(l.maxPeriod=a),S(a)}),i()(),t(9,"mat-form-field",17)(10,"mat-label"),e(11,"Height"),i(),t(12,"input",19),F("ngModelChange",function(a){x(r);let l=f();return D(l.freqsH,a)||(l.freqsH=a),S(a)}),i()(),t(13,"app-sma-list",20),u("changed",function(a){x(r);let l=f();return S(l.freqsChanged(a))}),i()()}if(s&2){let r=f();n(8),V("ngModel",r.maxPeriod),n(4),V("ngModel",r.freqsH),n(),h("initial",r.initialFreqs)}}var Ne=!1,k=4096,qe=10,Me=90,Ae=1,H=32,We=(s,g,r)=>{let o=[],a=U(r);for(let l of s)o.push({time:l.time,value:g.update(a(l))});return o},Be=(s,g,r)=>{let o=U(r),a=o(s[0]);for(;!g.isPrimed;)g.update(a);let l=[];for(let p of s)l.push({time:p.time,value:g.update(o(p))});return l},Ue=()=>({width:"100%",widthMin:360,navigationPane:{height:30,heightMin:30,heightMax:30,hasLine:!1,hasArea:!0,hasTimeAxis:!1,timeTicks:0},heightNavigationPane:30,timeAnnotationFormat:"%Y-%m-%d",axisLeft:!0,axisRight:!1,margin:{left:0,top:10,right:20,bottom:0},ohlcv:{name:"",data:[],candlesticks:!1},pricePane:{height:"30%",heightMin:300,heightMax:800,valueMarginPercentageFactor:.01,valueFormat:",.2f",bands:[],lineAreas:[],horizontals:[],arrows:[],lines:[]},indicatorPanes:[],crosshair:!1,volumeInPricePane:!1,menuVisible:!0,downloadSvgVisible:!0}),kt=(()=>{class s{constructor(){this.indicators=[],this.initialized=!1,this.selectedIndex=0,this.initialIndicators={length:[5,10,20],barComponent:B.Median,showStyle:!0},this.initialFreqs={length:[5,10,20],showStyle:!1},this.palettes=W(this.initialIndicators.length.length),this.selectedPalette=this.palettes[this.selectedIndex],this.smaNote=se,this.froaiNote=me,this.freqs=[],this.freqsMaxPeriod=40,this.freqsHeight=300,this.unlocked=!0,this.dataStepUp=O(qe,H,Me,H*3,Ae),this.dataStepDn=O(Me,H,qe,H*3,Ae),this.sma2=v.calculate(k,new b({length:2}),4),this.sma3=v.calculate(k,new b({length:3}),6),this.sma4=v.calculate(k,new b({length:4}),8,44),this.sma5=v.calculate(k,new b({length:5}),10),this.sma6=v.calculate(k,new b({length:6}),12),this.sma7=v.calculate(k,new b({length:7}),14),this.sma10=v.calculate(k,new b({length:10}),20),this.sma20=v.calculate(k,new b({length:20}),40,13)}get maxPeriod(){return this.freqsMaxPeriod}set maxPeriod(r){(!r||r<2)&&(r=2),this.freqsMaxPeriod=r,this.freqs.length>0&&(this.freqs=[...this.freqs])}get freqsH(){return this.freqsHeight}set freqsH(r){this.freqsHeight=r,this.freqs.length>0&&(this.freqs=[...this.freqs])}get unLocked(){return this.unlocked}set unLocked(r){this.unlocked=r,this.render()}ngAfterViewInit(){this.initialized=!0,this.unlocked=Ne,this.render()}indicatorPaletteChanged(r){this.selectedIndex=this.palettes.indexOf(r),this.selectedPalette=r}indicatorsChanged(r){let o=r.length>2?r.length:2;o!==this.selectedPalette.length&&(this.palettes=W(o),this.selectedIndex>=o&&(this.selectedIndex=0),this.selectedPalette=this.palettes[this.selectedIndex]),this.indicators=r,this.render()}freqsChanged(r){let o=[];for(let a of r){let l=a.params.length,p=v.calculate(k,new b({length:l}),l*2,43);o.push(p)}this.freqs=o}dataSelectionChanged(r){this.dataSelection=r,this.render()}render(){this.initialized&&(this.configuration=this.prepareConfig(this.dataSelection.mnemonic,this.dataSelection.data,!1),this.configurationStepUp=this.prepareConfig("",this.dataStepUp,!0),this.configurationStepDn=this.prepareConfig("",this.dataStepDn,!0))}prepareConfig(r,o,a){let l=Ue();l.menuVisible=this.unlocked,l.ohlcv.name=r,l.ohlcv.data=o;for(let p of this.indicators){let R=p.params.barComponent?p.params.barComponent:B.Close,z=new b(p.params),w=new be;w.name=z.getMnemonic(),w.data=a?Be(o,z,R):We(o,z,R);let T=p.style;w.color=T.color,w.width=T.width,w.dash=T.dash,w.interpolation=T.interpolation,l.pricePane.lines.push(w)}return l}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=I({type:s,selectors:[["app-ind-sma"]],decls:356,vars:203,consts:[[1,"slide-toggle",3,"ngModelChange","color","ngModel"],[1,"icon"],["label","",3,"selectionChange"],[1,"figwide"],[1,"ohlcv-chart-study",3,"configuration"],["expanded","false",2,"margin-bottom","1em"],[2,"width","100%"],[3,"href"],[3,"subfig","width","height","ymode","xmode","maxPeriod","data","settingsPanelVisible"],[3,"subfig","width","height","ymode","xmode","data","settingsPanelVisible"],[1,"counter-skip"],["href","https://books.google.com/books?id=JokQD5nK4LMC","target","_blank"],["href","https://books.google.com/books?id=q9Q6EAAAQBAJ","target","_blank"],["href","https://books.google.com/books?id=EaMuAAAAQBAJ","target","_blank"],[2,"vertical-align","bottom",3,"selectionChange","selected","colors","label"],[3,"changed","initial","colors"],["target","_blank",3,"href"],["appearance","fill"],["matInput","","type","number","min","8","max","1024","step","1",3,"ngModelChange","ngModel"],["matInput","","type","number","min","100","max","1024","step","1",3,"ngModelChange","ngModel"],[3,"changed","initial"]],template:function(o,a){o&1&&(t(0,"h1"),e(1),i(),t(2,"mat-slide-toggle",0),F("ngModelChange",function(p){return D(a.unLocked,p)||(a.unLocked=p),p}),t(3,"mat-icon",1),e(4,"tune"),i()(),t(5,"app-bar-series-select",2),u("selectionChange",function(p){return a.dataSelectionChanged(p)}),i(),t(6,"figure",3),c(7,"mb-ohlcv-chart",4),C(8,Fe,7,5,"mat-expansion-panel",5),t(9,"figcaption"),e(10),C(11,He,3,2,"span"),i()(),c(12,"p"),t(13,"div",6),e(14," A Simple Moving Average (SMA) of length "),t(15,"mb-ki"),e(16,"L \\ge 2"),i(),e(17," is the arithmetic mean of the last "),t(18,"mb-ki"),e(19,"L"),i(),e(20," observations of a series "),t(21,"mb-ki"),e(22),i(),e(23,", where "),t(24,"mb-ki"),e(25),i(),e(26," is the most recent value and "),t(27,"mb-ki"),e(28,"k \\ge L"),i(),e(29,": "),t(30,"mb-kd"),e(31),i(),e(32," When a next sample "),t(33,"mb-ki"),e(34),i(),e(35," arrives, it will be added to the sum, and the "),t(36,"mb-ki"),e(37),i(),e(38," sample will be dropped from the sum. Thus, the window of "),t(39,"mb-ki"),e(40,"L"),i(),e(41,' samples "moves", which explains the "moving average" in its name. '),c(42,"p"),e(43," When "),t(44,"mb-ki"),e(45,"k \\lt L"),i(),e(46,", the equation (1) transforms into a cumulative moving average: "),t(47,"mb-kd"),e(48),i(),e(49," Since the effective length "),t(50,"mb-ki"),e(51,"k \\lt L"),i(),e(52,', we consider SMA values undefined in this case. A scientific way to say this is "an indicator is not primed". So, the SMA is not primed during the first '),t(53,"mb-ki"),e(54),i(),e(55," updates. "),c(56,"p"),e(57," The equation (1) can be rewritten in the recurrent form (the "),t(58,"mb-ki"),e(59),i(),e(60," is taken out of the summation, the "),t(61,"mb-ki"),e(62),i(),e(63," is added and subtracted), which gives an efficient method of SMA calculation: "),t(64,"mb-kd"),e(65),i(),t(66,"mb-kd"),e(67),i(),c(68,"p"),e(69," From the digital signal processing (DSP) point of view, SMA is a finite impulse response (FIR) filter with all "),t(70,"mb-ki"),e(71),i(),e(72," weight coefficients equal: "),t(73,"mb-kd"),e(74),i(),e(75," The filter is finite because only a finite number of "),t(76,"mb-ki"),e(77),i(),e(78," last samples contribute to its value. "),c(79,"p"),i(),t(80,"h2"),e(81,"Step response"),i(),t(82,"div",6),e(83," Two figures below demonstrate the response of an SMA to the step-up and step-down data. The step transition is clearly linear. Both responses touch the step data with the lag equal to the length "),t(84,"mb-ki"),e(85),i(),e(86," of the filter. The step-up response doesn't overshoot and the step-down response doesn't undershoot the data. "),c(87,"p"),i(),t(88,"figure",3),c(89,"mb-ohlcv-chart",4),t(90,"figcaption"),e(91,"Step-up response."),i()(),t(92,"figure",3),c(93,"mb-ohlcv-chart",4),t(94,"figcaption"),e(95,"Step-down response."),i()(),c(96,"p"),t(97,"h2"),e(98,"Frequency response"),i(),t(99,"div",6),e(100," The figures below show an amplitude and a phase lag of the unit sample response of the SMA as a function of a period of various signal frequencies. "),c(101,"p"),e(102," A period is a duration of a cycle in samples. The smallest possible period of a cycle is "),t(103,"mb-ki"),e(104),i(),e(105," samples. To understand this, imagine a cycle of a sinusoid which starts at zero, goes up and peaks at "),t(106,"mb-ki"),e(107),i(),e(108,", continues down and bottoms at "),t(109,"mb-ki"),e(110),i(),e(111,", and then returns back to zero. We need at least two samples (peak and through) to represent a cycle. See more details in the "),t(112,"a",7),e(113),i(),e(114,". "),c(115,"p"),e(116," The same charts can be represented as a function of a cycle's frequency. A period ("),t(117,"mb-ki"),e(118),i(),e(119,") is an inverse of the cycle's frequency ("),t(120,"mb-ki"),e(121),i(),e(122,"): "),t(123,"mb-ki"),e(124),i(),e(125,". The smallest period "),t(126,"mb-ki"),e(127),i(),e(128," corresponds to the Nyquist frequency "),t(129,"mb-ki"),e(130),i(),e(131,"which is the highest frequency possible in a signal. Below we use the normalized frequency which has the value of "),t(132,"mb-ki"),e(133),i(),e(134," at the Nyquist frequency. That is, "),t(135,"mb-ki"),e(136),i(),e(137," corresponds to the infinite "),t(138,"mb-ki"),e(139),i(),e(140,", "),t(141,"mb-ki"),e(142),i(),e(143," corresponds to the "),t(144,"mb-ki"),e(145),i(),e(146,". "),c(147,"p"),i(),t(148,"figure",3),c(149,"mb-frequency-response-chart",8)(150,"mb-frequency-response-chart",8),C(151,ze,14,3,"mat-expansion-panel",5),t(152,"figcaption"),e(153,"An amplitude (a) and a phase lag (b) as a function of a cycle."),i()(),c(154,"p"),t(155,"div",6),e(156," The shape of the amplitude response is different for the even and odd values of "),t(157,"mb-ki"),e(158),i(),e(159,". For the even values of "),t(160,"mb-ki"),e(161),i(),e(162,", the amplitude decreases to zero for smallest period "),t(163,"mb-ki"),e(164),i(),e(165,". For the odd values of "),t(166,"mb-ki"),e(167),i(),e(168,", it stays above zero. "),c(169,"p"),e(170," The shape of the unwrapped frequency response is linear with respect to a normalized frequency, and is hyperbolic with respect to a period. "),c(171,"p"),e(172," This is illusrated in figures below both for the period (in samples) and the normalized frequency. "),c(173,"p"),i(),t(174,"figure",3),c(175,"mb-frequency-response-chart",8)(176,"mb-frequency-response-chart",8),t(177,"figcaption"),e(178,"An amplitude as a function of a period of a cycle for even (a) and odd (b) SMA length."),i()(),t(179,"figure",3),c(180,"mb-frequency-response-chart",9)(181,"mb-frequency-response-chart",9),t(182,"figcaption"),e(183,"An amplitude as a function of a normalized frequency of a cycle for even (a) and odd (b) SMA length."),i()(),t(184,"figure",3),c(185,"mb-frequency-response-chart",8)(186,"mb-frequency-response-chart",8),t(187,"figcaption"),e(188,"A phase as a function of a period of a wave for even (a) and odd (b) SMA length."),i()(),t(189,"figure",3),c(190,"mb-frequency-response-chart",9)(191,"mb-frequency-response-chart",9),t(192,"figcaption"),e(193,"A phase as a function of a normalized frequency of a wave for even (a) and odd (b) SMA length."),i()(),c(194,"p"),t(195,"div",6),e(196," The frequency response of an SMA can be derived analytically (Mak, 2021). "),c(197,"p"),e(198," The frequency response function of a discrete-time linear time-invariant (DTLTI) system is the discrete-time Fourier transform (DTFT) of the unit impulse response "),t(199,"mb-ki"),e(200),i(),e(201," (Oppenheim et al., 2009): "),t(202,"mb-kd"),e(203),i(),e(204," where "),t(205,"mb-ki"),e(206),i(),e(207," is an angular frequency (in radians per sample), "),t(208,"mb-ki"),e(209),i(),e(210," is a frequency, and "),t(211,"mb-ki"),e(212),i(),e(213," is a period of a cycle in samples: "),t(214,"mb-kd"),e(215),i(),e(216," The unit impulse response is the output of the SMA when a Kronecker delta function "),t(217,"mb-kd"),e(218),i(),e(219," is applied to the input. Since SMA has equal weight coefficients, the unit impulse response can be obtained from equation (3): "),t(220,"mb-kd"),e(221),i(),t(222,"mb-kd"),e(223),i(),t(224,"mb-kd"),e(225),i(),e(226," Substituting (5) into equation (4) and reducing to the finite sum gives "),t(227,"mb-kd"),e(228),i(),t(229,"mb-kd"),e(230),i(),e(231," To simplify (6), we can recall a sum of geometric series "),t(232,"mb-kd"),e(233),i(),e(234," Multiplying both sides by "),t(235,"mb-ki"),e(236),i(),e(237," and simplifying "),t(238,"mb-kd"),e(239),i(),t(240,"mb-kd"),e(241),i(),t(242,"mb-kd"),e(243),i(),e(244," gives a well-known identity for a sum of geometric series (Jeffrey and Dai, 2008, 1.2.2.2): "),t(245,"mb-kd"),e(246),i(),e(247," Now we can write the frequency response function as "),t(248,"mb-kd"),e(249),i(),e(250," where we have let "),t(251,"mb-ki"),e(252),i(),e(253,". At "),t(254,"mb-ki"),e(255),i(),e(256," equation (7) is indeterminate, but we can use the De l'H\xF4pital's rule (Jeffrey and Dai, 2008, 1.15.1) "),t(257,"mb-kd"),e(258),i(),e(259," to show that "),t(260,"mb-kd"),e(261),i(),t(262,"mb-kd"),e(263),i(),t(264,"mb-kd"),e(265),i(),e(266," The frequency response "),t(267,"mb-ki"),e(268),i(),e(269," is zero when "),t(270,"mb-kd"),e(271),i(),t(272,"mb-kd"),e(273),i(),t(274,"mb-kd"),e(275),i(),e(276," Thus, "),t(277,"mb-ki"),e(278),i(),e(279," is zero at cycle periods "),t(280,"mb-kd"),e(281),i(),e(282," Now let's recall the well nown formula for "),t(283,"mb-ki"),e(284),i(),e(285,": "),t(286,"mb-kd"),e(287),i(),t(288,"mb-kd"),e(289),i(),t(290,"mb-kd"),e(291),i(),t(292,"mb-kd"),e(293),i(),e(294," Equipped with this, we can transform equation (7) into: "),t(295,"mb-kd"),e(296),i(),t(297,"mb-kd"),e(298),i(),t(299,"mb-kd"),e(300),i(),t(301,"mb-kd"),e(302),i(),e(303," The magnitude of the frequency response is the modulus of "),t(304,"mb-ki"),e(305),i(),e(306,": "),t(307,"mb-kd"),e(308),i(),t(309,"mb-kd"),e(310),i(),e(311," Here "),t(312,"mb-ki"),e(313),i(),e(314," is an angular frequency in radians per sample. In terms of cycle period (recall "),t(315,"mb-ki"),e(316),i(),e(317,") this will be: "),t(318,"mb-kd"),e(319),i(),e(320," The phase (in radians) of the frequency response is the complex argument of the exponent in equation (9): "),t(321,"mb-kd"),e(322),i(),t(323,"mb-kd"),e(324),i(),e(325," And, finally, the number of samples lagging behind the signal is independent of angular frequency "),t(326,"mb-ki"),e(327),i(),e(328,": "),t(329,"mb-kd"),e(330),i(),c(331,"p"),i(),c(332,"hr"),t(333,"h2",10),e(334,"References"),i(),t(335,"div"),e(336," Jeffrey, A., & Dai, H. H. (2008). "),t(337,"em"),e(338,"Handbook of mathematical formulas and integrals"),i(),e(339,". (4th ed., p. 592). San Diego, CA: Elsevier/Academic Press. "),t(340,"a",11),e(341,"google books"),i()(),t(342,"div"),e(343,"Mak, D. K. (2021). "),t(344,"em"),e(345,"Trading Tactics in the Financial Market: Mathematical Methods to Improve Performance"),i(),e(346," (p. ix+269). doi:10.1007/978-3-030-70622-7 "),t(347,"a",12),e(348,"google books"),i()(),t(349,"div"),e(350,"Oppenheim, A. V., Schafer, R. W., Yoder, M. A., & Padgett, W. T. (2009). "),t(351,"em"),e(352,"Discrete-time signal processing"),i(),e(353,". (3rd ed., p. 1120). Upper Saddle River, NJ: Pearson. "),t(354,"a",13),e(355,"google books"),i()()),o&2&&(n(),m(a.smaNote.title),n(),h("color","primary"),V("ngModel",a.unLocked),n(5),h("configuration",a.configuration),n(),L(a.unlocked?8:-1),n(2),d("",a.dataSelection.description,". "),n(),L(a.dataSelection.url?11:-1),n(11),m("x_{1},\\, x_{2},\\, x_{3},\\,\\ldots\\,,\\, x_{k}"),n(3),m("x_{k}"),n(6),m("\\tag*{(1)}sma_{k}=\\frac{1}{L}\\sum_{m=1}^{L}x_{k-L+m}"),n(3),m("x_{k+1}"),n(3),m("x_{k-L}"),n(11),m("\\tag*{}sma_{k}=\\frac{1}{k}\\sum_{m=1}^{k}x_{m}"),n(6),m("L-1"),n(5),m("x_{k}"),n(3),m("x_{k-L}"),n(3),d(" ","\\tag*{}sma_{k}=\\frac{1}{L}\\left[x_{k}+\\sum_{m=k-L}^{k-1}x_{m}-x_{k-L}\\right]"," "),n(2),d(" ","\\tag*{(2)}=sma_{k-1}+\\frac{x_{k}-x_{k-L}}{L}"," "),n(4),m("L"),n(3),d(" ","\\tag*{(3)}sma_{k}=\\sum_{m=1}^{L}w_{m}x_{k-m+1},\\ k\\ge L,\\ \\forall m\\ w_{m}=\\frac{1}{L}"," "),n(3),m("L"),n(8),m("L"),n(4),h("configuration",a.configurationStepUp),n(4),h("configuration",a.configurationStepDn),n(11),m("2"),n(3),m("1"),n(3),m("-1"),n(2),j("href","/",a.froaiNote.route,"",N),n(),m(a.froaiNote.title),n(5),m("\\tau"),n(3),m("\\nu"),n(3),m("\\tau = \\frac{1}{\\nu}"),n(3),m("\\tau = 2"),n(3),m("\\nu = \\frac{1}{\\tau} = \\frac{1}{2}"),n(3),m("1"),n(3),m("0"),n(3),m("\\tau"),n(3),m("1"),n(3),m("\\tau = 2"),n(4),h("subfig","(a)")("width","100%")("height",a.freqsH)("ymode","amplitudePct")("xmode","frequency")("maxPeriod",a.maxPeriod)("data",a.freqs)("settingsPanelVisible",a.unlocked),n(),h("subfig","(b)")("width","100%")("height",a.freqsH)("ymode","phaseDegUnwrapped")("xmode","frequency")("maxPeriod",a.maxPeriod)("data",a.freqs)("settingsPanelVisible",a.unlocked),n(),L(a.unlocked?151:-1),n(7),m("L"),n(3),m("L"),n(3),m("\\tau = 2"),n(3),m("L"),n(8),h("subfig","(a)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","period")("maxPeriod",40)("data",y(171,_,a.sma2,a.sma4,a.sma6))("settingsPanelVisible",a.unlocked),n(),h("subfig","(b)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","period")("maxPeriod",40)("data",y(175,_,a.sma3,a.sma5,a.sma7))("settingsPanelVisible",a.unlocked),n(4),h("subfig","(a)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","frequency")("data",y(179,_,a.sma2,a.sma4,a.sma6))("settingsPanelVisible",a.unlocked),n(),h("subfig","(b)")("width","100%")("height",200)("ymode","amplitudePct")("xmode","frequency")("data",y(183,_,a.sma3,a.sma5,a.sma7))("settingsPanelVisible",a.unlocked),n(4),h("subfig","(a)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","period")("maxPeriod",40)("data",y(187,_,a.sma2,a.sma4,a.sma6))("settingsPanelVisible",a.unlocked),n(),h("subfig","(b)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","period")("maxPeriod",40)("data",y(191,_,a.sma3,a.sma5,a.sma7))("settingsPanelVisible",a.unlocked),n(4),h("subfig","(a)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","frequency")("data",y(195,_,a.sma2,a.sma4,a.sma6))("settingsPanelVisible",a.unlocked),n(),h("subfig","(b)")("width","100%")("height",200)("ymode","phaseDegUnwrapped")("xmode","frequency")("data",y(199,_,a.sma3,a.sma5,a.sma7))("settingsPanelVisible",a.unlocked),n(9),m("h(k)"),n(3),d(" ","\\tag*{(4)}H(\\omega)=\\sum_{k=-\\infty}^{\\infty}h(k)\\exp(-i k \\omega)"," "),n(3),m("\\omega"),n(3),m("\\nu"),n(3),m("\\tau"),n(3),d(" ","\\tag*{}\\omega = 2\\pi\\nu = \\frac{2\\pi}{\\tau}"," "),n(3),d(" ","\\tag*{}\\delta[k] = \\begin{cases} 1, & k=0 \\\\ 0, & k \\neq 0 \\end{cases}"," "),n(3),d(" ","\\tag*{}h(k)=\\sum_{m=0}^{L-1}w_m\\delta[k-m]"," "),n(2),d(" ","\\tag*{}=\\frac{1}{l}\\sum_{m=0}^{L-1}\\delta[k-m]"," "),n(2),d(" ","\\tag*{(5)}=\\begin{cases} 1/L, & 0 \\leq k \\lt L \\\\ 0, & \\text{otherwise} \\end{cases}"," "),n(3),d(" ","\\tag*{}H(\\omega)=\\sum_{k=0}^{L-1}h(k)\\exp(-i k \\omega)"," "),n(2),d(" ","\\tag*{(6)}=\\frac{1}{L}\\sum_{k=0}^{L-1}\\exp(-i k \\omega)"," "),n(3),d(" ","\\tag*{}\\sum_{k=0}^{L-1}x^k = 1 + x + x^2 + \\ldots + x^{L-1}"," "),n(3),m("1-x"),n(3),d(" ","\\tag*{}(1-x)\\sum_{k=0}^{L-1}x^k = (1-x)(1 + x + x^2 + \\ldots + x^{L-1})"," "),n(2),d(" ","\\tag*{}= 1 + x + x^2 + \\ldots + x^{L-1} - x - x^2 - \\ldots - x^{L-1} - x^L"," "),n(2),d(" ","\\tag*{}= 1 - x^L"," "),n(3),d(" ","\\tag*{}\\sum_{k=0}^{L-1}x^k = \\begin{cases} (1-x^L)/(1-x), & x \\neq 1 \\\\ L, & x = 1 \\end{cases}"," "),n(3),d(" ","\\tag*{(7)}H(\\omega)=\\frac{1}{L}\\frac{1 - \\exp(-i\\omega L)}{1 - \\exp(-i \\omega)}"," "),n(3),m("x = \\exp(-i \\omega)"),n(3),m("\\omega = 0"),n(3),d(" ","\\tag*{}\\lim_{x\\to x_0}{[\\frac{f(x)}{g(x)}]}=\\frac{f'(x_0)}{g'(x_0)}"," "),n(3),d(" ","\\tag*{}\\lim_{\\omega\\to 0}{H(\\omega)}=\\frac{1}{L}\\lim_{\\omega\\to 0}{\\frac{1 - \\exp(-i\\omega L)}{1 - \\exp(-i \\omega)}}"," "),n(2),d(" ","\\tag*{}\\overset{\\left[\\frac{0}{0}\\right]}{\\underset{\\mathrm{H}}{=}}\\ \\frac{1}{L}\\lim_{\\omega\\to 0}{\\frac{iL\\exp(-i\\omega L)}{i\\exp(-i \\omega)}}"," "),n(2),d(" ","\\tag*{}=\\frac{1}{L}\\frac{iL}{i} = 1"," "),n(3),m("H(\\omega)"),n(3),d(" ","\\tag*{}\\exp(-i\\omega L)=\\cos(\\omega L) - i\\cdot\\sin{\\omega L} = 1"," "),n(2),d(" ","\\tag*{}\\omega L=2\\pi m\\quad m=1,2,3,\\ldots"," "),n(2),d(" ","\\tag*{}\\omega=\\frac{2\\pi m}{L}"," "),n(3),m("H(\\omega)"),n(3),d(" ","\\tag*{(8)}\\tau=\\frac{2\\pi}{\\omega}=\\frac{2\\pi L}{2\\pi m} = L/m,\\quad m=1,2,3,\\ldots"," "),n(3),m("\\exp(i\\theta)-\\exp(-i\\theta)"),n(3),d(" ","\\tag*{}\\exp(i\\theta)-\\exp(-i\\theta)"," "),n(2),d(" ","\\tag*{}=\\cos(\\theta)+i\\cdot\\sin(\\theta)-\\cos(-\\theta)- i\\cdot\\sin(-\\theta)"," "),n(2),d(" ","\\tag*{}=\\cos(\\theta)+i\\cdot\\sin(\\theta)-\\cos(\\theta)+i\\cdot\\sin(\\theta)"," "),n(2),d(" ","\\tag*{}=2i\\cdot\\sin(\\theta)"," "),n(3),d(" ","\\tag*{}H(\\omega)=\\frac{1}{L}\\frac{1 - \\exp(-i\\omega L)}{1 - \\exp(-i \\omega)}"," "),n(2),d(" ","\\tag*{}=\\frac{1}{L}\\frac{\\exp(-i\\omega L/2)}{\\exp(-i\\omega/2)}\\frac{\\exp(i\\omega L/2) - \\exp(-i\\omega L/2)}{\\exp(i\\omega/2) - \\exp(-i\\omega/2)}"," "),n(2),d(" ","\\tag*{}=\\frac{1}{l}\\frac{\\exp(-i\\omega L/2)}{\\exp(-i\\omega/2)}\\frac{2i\\sin(\\omega L/2)}{2i\\sin(\\omega /2)}"," "),n(2),d(" ","\\tag*{(9)}=\\frac{\\exp(-i\\omega\\frac{L-1}{2})}{L}\\frac{\\sin(\\omega L/2)}{\\sin(\\omega /2)}"," "),n(3),m("H(\\omega)"),n(3),d(" ","\\tag*{}|H(\\omega)|=\\left|\\frac{\\exp(-i\\omega\\frac{L-1}{2})}{L}\\frac{\\sin(\\omega L/2)}{\\sin(\\omega /2)}\\right|"," "),n(2),d(" ","\\tag*{(10)}=\\frac{1}{L}\\frac{|\\sin(\\omega L/2)|}{|\\sin(\\omega /2)|}"," "),n(3),m("\\omega"),n(3),m("\\omega=2\\pi/\\tau"),n(3),d(" ","\\tag*{(11)}|H(\\tau)|=\\frac{1}{L}\\frac{|\\sin(\\pi L/\\tau)|}{|\\sin(\\pi /\\tau)|}"," "),n(3),d(" ","\\tag*{(12)}\\phi(\\omega)=\\arg(H(\\omega))=-\\frac{L-1}{2}\\omega"," "),n(2),d(" ","\\tag*{(13)}\\phi(\\tau)=-\\pi\\frac{L-1}{\\tau}"," "),n(3),m("\\omega"),n(3),d(" ","\\tag*{(14)}bar\\ lag=\\frac{\\phi(\\omega)}{\\omega}=-\\frac{L-1}{2}"," "))},dependencies:[ae,Z,te,$,ne,ie,ee,X,G,re,q,de,ce,pe,he,ve,ue,fe,ge,Se,_e,Le],styles:[".ohlcv-chart-study[_ngcontent-%COMP%]{margin:0;padding:0}.button[_ngcontent-%COMP%]{margin-right:8px}.slide-toggle[_ngcontent-%COMP%]{float:right;margin:0 8px 0 0}.icon[_ngcontent-%COMP%]{vertical-align:bottom}"],changeDetection:0})}}return s})();export{kt as SmaComponent};
